{% extends 'base.html.twig' %}

{% block title %}User index{% endblock %}

{% block body %}
	<a class="btn btn-warning" href="{{ path('admin_new') }}">
		Créer un nouvel utilisateur<i class="fas fa-user-plus"></i>
	</a>
	<h1>Liste des utilisateurs</h1>
	<table class="table table-hover table-dark text-center align-middle">
		<thead>
			<tr>
				<th>Id</th>
				<th>Picture</th>
				<th>Pseudo</th>
				<th>Email</th>
				<th>Name</th>
				<th>IsVerified</th>
				<th>Roles</th>
				<th>actions</th>
			</tr>
		</thead>
		<tbody>
			{% for user in users %}
				<tr></tr>
				<td class="">{{ user.id }}</td>
				<td class=""><img class="rounded-circle" src="{{ user.picture }}" alt=""/></td>
				<td class="">{{ user.pseudo }}</td>
				<td class="">{{ user.email }}</td>
				<td class="">{{user.genre == 'female' ? 'Mme' : 'Mr'}}
					{{ user.firstName }}
					{{ user.lastName }}</td>
				<td class="">{{ user.isVerified ? 'Yes' : 'No' }}</td>
				<td class="">{{ user.roles ? user.roles|json_encode : '' }}</td>
				<td class="">
					<a href="{{ path('admin_show', {'id': user.id}) }}">
						<i class="fas fa-eye btn-success btn"></i>
					</a>
				</td>
			</tr>
		{% else %}
			<tr>
				<td colspan="11">Aucun utilisateur enregistré</td>
			</tr>
		{% endfor %}
	</tbody>
</table>{% endblock %}
